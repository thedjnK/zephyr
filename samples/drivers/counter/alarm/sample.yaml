sample:
  name: Counter RTC Driver Sample
tests:
  sample.drivers.counter.alarm:
    tags:
      - drivers
      - counter
    harness: console
    platform_allow:
      - nucleo_f746zg/stm32f746xx
      - nrf51dk/nrf51822
      - nrf52dk/nrf52832
      - nrf52840dk/nrf52840
      - nrf9160dk/nrf9160
      - samd20_xpro/samd20j18
      - bl5340_dvk/nrf5340/cpuapp
      - gd32e103v_eval/gd32e103
      - gd32e507z_eval/gd32e507
      - gd32f403z_eval/gd32f403
      - gd32f450i_eval/gd32f450
      - gd32f450z_eval/gd32f450
      - gd32e507v_start/gd32e507
      - gd32f407v_start/gd32f407
      - gd32f450v_start/gd32f450
      - gd32f470i_eval/gd32f470
      - stm32h735g_disco/stm32h735xx
      - stm32h573i_dk/stm32h573xx
      - rpi_pico/rp2040
    integration_platforms:
      - nucleo_f746zg/stm32f746xx
    harness_config:
      type: multi_line
      ordered: true
      regex:
        - "Counter alarm sample"
        - "Set alarm in 2 sec"
        - "!!! Alarm !!!"
        - "Now: [2|3]"
    depends_on: counter
