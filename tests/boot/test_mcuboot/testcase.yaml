common:
  sysbuild: true
  harness: console
  harness_config:
    type: multi_line
    regex:
      - "I: Starting bootloader"
      - "Launching primary slot application on (.*)"
      - "Secondary application ready for swap, rebooting"
      - "I: Starting swap using (.*)"
      - "Swapped application booted on (.*)"
tests:
  bootloader.mcuboot:
    tags: mcuboot
    platform_allow:
      - frdm_k22f/mk22f51212
      - frdm_k64f/mk64f12
      - frdm_k82f/mk82f25615
      - lpcxpresso55s06/lpc55s06
      - lpcxpresso55s16/lpc55s16
      - lpcxpresso55s28/lpc55s28
      - lpcxpresso55s36/lpc55s36
      - lpcxpresso55s69/lpc55s69/cpu0
      - mimxrt1010_evk/mimxrt1011
      - mimxrt1015_evk/mimxrt1015
      - mimxrt1020_evk/mimxrt1021
      - mimxrt1024_evk/mimxrt1024
      - mimxrt1040_evk/mimxrt1042
      - mimxrt1050_evk/mimxrt1052
      - mimxrt1060_evk/mimxrt1062
      - mimxrt1064_evk/mimxrt1064
      - mimxrt1160_evk/mimxrt1166/cm7
      - mimxrt1170_evk/mimxrt1176/cm7
      - mimxrt595_evk/mimxrt595s/cm33
      - mimxrt685_evk/mimxrt685s
      - nrf52840dk/nrf52840
    integration_platforms:
      - frdm_k64f/mk64f12
      - nrf52840dk/nrf52840
  bootloader.mcuboot.assert:
    tags: mcuboot
    platform_allow:
      - b_u585i_iot02a/stm32u585xx
    extra_configs:
      - CONFIG_ASSERT=y
