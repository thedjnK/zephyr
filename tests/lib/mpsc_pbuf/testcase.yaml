tests:
  libraries.mpsc_pbuf:
    tags: mpsc_pbuf
    platform_allow:
      - qemu_arc/qemu_arc_em
      - qemu_arc/qemu_arc_hs
      - qemu_cortex_a53/qemu_cortex_a53
      - qemu_cortex_m0/nrf51822
      - qemu_cortex_m3/ti_lm3s6965
      - qemu_cortex_r5/zynqmp_rpu
      - qemu_leon3/leon3
      - qemu_nios2/qemu_nios2
      - qemu_riscv32/qemu_virt_riscv32
      - qemu_riscv64/qemu_virt_riscv64
      - qemu_x86/atom
      - qemu_x86_64/atom
      - qemu_xtensa/dc233c
      - native_posix/native
      - native_sim/native
    integration_platforms:
      - native_sim/native

  libraries.mpsc_pbuf.concurrent:
    tags: mpsc_pbuf
    platform_allow:
      - qemu_cortex_m3/ti_lm3s6965
      - qemu_x86/atom
      - qemu_x86_64/atom
    extra_configs:
      - CONFIG_SYS_CLOCK_TICKS_PER_SEC=100000
    timeout: 120
    integration_platforms:
      - qemu_x86/atom
      - qemu_x86_64/atom
